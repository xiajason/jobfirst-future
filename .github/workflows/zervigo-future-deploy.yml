name: Zervigo Future å¾®æœåŠ¡éƒ¨ç½²æµæ°´çº¿

on:
  push:
    branches:
      - main      # ç”Ÿäº§ç¯å¢ƒ
      - develop   # å¼€å‘/æµ‹è¯•ç¯å¢ƒ
    paths:
      - 'backend/**'
      - 'scripts/**'
      - 'docs/**'
      - 'nginx/**'
      - 'docker-compose*.yml'
      - '.github/workflows/zervigo-future-deploy.yml'
  
  workflow_dispatch:  # å…è®¸æ‰‹åŠ¨è§¦å‘
    inputs:
      environment:
        description: 'éƒ¨ç½²ç¯å¢ƒ'
        required: true
        default: 'production'
        type: choice
        options:
          - production
          - staging
          - development
      deploy_services:
        description: 'éƒ¨ç½²æœåŠ¡ (é€—å·åˆ†éš”ï¼Œç•™ç©ºéƒ¨ç½²æ‰€æœ‰)'
        required: false
        default: ''
        type: string

env:
  # é˜¿é‡Œäº‘é…ç½®
  ALIBABA_SERVER_IP: ${{ secrets.ALIBABA_SERVER_IP }}
  ALIBABA_SERVER_USER: ${{ secrets.ALIBABA_SERVER_USER }}
  ALIBABA_DEPLOY_PATH: ${{ secrets.ALIBABA_DEPLOY_PATH || '/opt/services' }}
  
  # æœåŠ¡ç«¯å£é…ç½®
  API_GATEWAY_PORT: 8080
  USER_SERVICE_PORT: 8081
  RESUME_SERVICE_PORT: 8082
  COMPANY_SERVICE_PORT: 8083
  NOTIFICATION_SERVICE_PORT: 8084
  TEMPLATE_SERVICE_PORT: 8085
  STATISTICS_SERVICE_PORT: 8086
  BANNER_SERVICE_PORT: 8087
  DEV_TEAM_SERVICE_PORT: 8088
  JOB_SERVICE_PORT: 8089

jobs:
  # æ£€æµ‹å˜æ›´å’Œç¡®å®šéƒ¨ç½²èŒƒå›´
  detect-changes:
    name: ğŸ” æ£€æµ‹ä»£ç å˜æ›´
    runs-on: ubuntu-latest
    outputs:
      backend-changed: ${{ steps.changes.outputs.backend }}
      config-changed: ${{ steps.changes.outputs.config }}
      deploy-needed: ${{ steps.check.outputs.deploy-needed }}
      environment: ${{ steps.env.outputs.environment }}
    
    steps:
      - name: Checkoutä»£ç 
        uses: actions/checkout@v4
        with:
          fetch-depth: 0
      
      - name: æ£€æµ‹æ–‡ä»¶å˜æ›´
        uses: dorny/paths-filter@v2
        id: changes
        with:
          filters: |
            backend:
              - 'zervigo_future/backend/**'
              - 'zervigo_future/pkg/**'
            config:
              - 'zervigo_future/configs/**'
              - 'zervigo_future/**/config.yaml'
      
      - name: ç¡®å®šéƒ¨ç½²ç¯å¢ƒ
        id: env
        run: |
          if [[ "${{ github.ref }}" == "refs/heads/main" ]]; then
            echo "environment=production" >> $GITHUB_OUTPUT
          elif [[ "${{ github.ref }}" == "refs/heads/develop" ]]; then
            echo "environment=staging" >> $GITHUB_OUTPUT
          else
            echo "environment=development" >> $GITHUB_OUTPUT
          fi
          
          # æ‰‹åŠ¨è§¦å‘æ—¶ä½¿ç”¨è¾“å…¥çš„ç¯å¢ƒ
          if [[ "${{ github.event_name }}" == "workflow_dispatch" ]]; then
            echo "environment=${{ github.event.inputs.environment }}" >> $GITHUB_OUTPUT
          fi
      
      - name: æ£€æŸ¥æ˜¯å¦éœ€è¦éƒ¨ç½²
        id: check
        run: |
          if [[ "${{ steps.changes.outputs.backend }}" == "true" ]] || \
             [[ "${{ steps.changes.outputs.config }}" == "true" ]] || \
             [[ "${{ github.event_name }}" == "workflow_dispatch" ]]; then
            echo "deploy-needed=true" >> $GITHUB_OUTPUT
          else
            echo "deploy-needed=false" >> $GITHUB_OUTPUT
          fi

  # æ„å»ºæ‰€æœ‰Goå¾®æœåŠ¡
  build-backend-services:
    name: ğŸ”¨ æ„å»ºGoå¾®æœåŠ¡
    runs-on: ubuntu-latest
    needs: detect-changes
    if: needs.detect-changes.outputs.deploy-needed == 'true'
    
    steps:
      - name: Checkoutä»£ç 
        uses: actions/checkout@v4
      
      - name: è®¾ç½®Goç¯å¢ƒ
        uses: actions/setup-go@v4
        with:
          go-version: '1.23'
          cache-dependency-path: backend/go.sum
      
      - name: å‡†å¤‡å¾®æœåŠ¡ä»£ç å’Œå¯åŠ¨è„šæœ¬
        working-directory: backend
        run: |
          echo "ğŸ”¨ å‡†å¤‡å¾®æœåŠ¡ä»£ç å’Œå¯åŠ¨è„šæœ¬..."
          go env -w GOPROXY=https://goproxy.cn,direct
          go mod download
          go mod verify
          
          # åˆ›å»ºæœåŠ¡å¯åŠ¨è„šæœ¬ç›®å½•
          mkdir -p scripts/services
          
          # åˆ›å»ºAPI Gatewayå¯åŠ¨è„šæœ¬
          cat > scripts/services/start-api-gateway.sh << 'EOF'
          #!/bin/bash
          cd /opt/services/backend/cmd/basic-server
          nohup go run main.go > /opt/services/logs/api-gateway.log 2>&1 &
          echo $! > /opt/services/logs/api-gateway.pid
          EOF
          
          # åˆ›å»ºUser Serviceå¯åŠ¨è„šæœ¬
          cat > scripts/services/start-user-service.sh << 'EOF'
          #!/bin/bash
          cd /opt/services/backend/internal/user-service
          nohup go run main.go > /opt/services/logs/user-service.log 2>&1 &
          echo $! > /opt/services/logs/user-service.pid
          EOF
          
          # åˆ›å»ºResume Serviceå¯åŠ¨è„šæœ¬
          cat > scripts/services/start-resume-service.sh << 'EOF'
          #!/bin/bash
          cd /opt/services/backend/internal/resume-service
          nohup go run main.go > /opt/services/logs/resume-service.log 2>&1 &
          echo $! > /opt/services/logs/resume-service.pid
          EOF
          
          # åˆ›å»ºCompany Serviceå¯åŠ¨è„šæœ¬
          cat > scripts/services/start-company-service.sh << 'EOF'
          #!/bin/bash
          cd /opt/services/backend/internal/company-service
          nohup go run main.go > /opt/services/logs/company-service.log 2>&1 &
          echo $! > /opt/services/logs/company-service.pid
          EOF
          
          # åˆ›å»ºNotification Serviceå¯åŠ¨è„šæœ¬
          cat > scripts/services/start-notification-service.sh << 'EOF'
          #!/bin/bash
          cd /opt/services/backend/internal/notification-service
          nohup go run main.go > /opt/services/logs/notification-service.log 2>&1 &
          echo $! > /opt/services/logs/notification-service.pid
          EOF
          
          # åˆ›å»ºTemplate Serviceå¯åŠ¨è„šæœ¬
          cat > scripts/services/start-template-service.sh << 'EOF'
          #!/bin/bash
          cd /opt/services/backend/internal/template-service
          nohup go run main.go > /opt/services/logs/template-service.log 2>&1 &
          echo $! > /opt/services/logs/template-service.pid
          EOF
          
          # åˆ›å»ºStatistics Serviceå¯åŠ¨è„šæœ¬
          cat > scripts/services/start-statistics-service.sh << 'EOF'
          #!/bin/bash
          cd /opt/services/backend/internal/statistics-service
          nohup go run main.go > /opt/services/logs/statistics-service.log 2>&1 &
          echo $! > /opt/services/logs/statistics-service.pid
          EOF
          
          # åˆ›å»ºBanner Serviceå¯åŠ¨è„šæœ¬
          cat > scripts/services/start-banner-service.sh << 'EOF'
          #!/bin/bash
          cd /opt/services/backend/internal/banner-service
          nohup go run main.go > /opt/services/logs/banner-service.log 2>&1 &
          echo $! > /opt/services/logs/banner-service.pid
          EOF
          
          # åˆ›å»ºDev Team Serviceå¯åŠ¨è„šæœ¬
          cat > scripts/services/start-dev-team-service.sh << 'EOF'
          #!/bin/bash
          cd /opt/services/backend/internal/dev-team-service
          nohup go run main.go > /opt/services/logs/dev-team-service.log 2>&1 &
          echo $! > /opt/services/logs/dev-team-service.pid
          EOF
          
          # åˆ›å»ºJob Serviceå¯åŠ¨è„šæœ¬
          cat > scripts/services/start-job-service.sh << 'EOF'
          #!/bin/bash
          cd /opt/services/backend/internal/job-service
          nohup go run main.go > /opt/services/logs/job-service.log 2>&1 &
          echo $! > /opt/services/logs/job-service.pid
          EOF
          
          chmod +x scripts/services/*.sh
          echo "âœ… å¾®æœåŠ¡å¯åŠ¨è„šæœ¬å‡†å¤‡å®Œæˆ"
          ls -la scripts/services/
      
      - name: ä¸Šä¼ å¾®æœåŠ¡ä»£ç å’Œè„šæœ¬
        uses: actions/upload-artifact@v4
        with:
          name: backend-services
          path: backend/
          retention-days: 7

  # éƒ¨ç½²åˆ°é˜¿é‡Œäº‘
  deploy-to-alibaba:
    name: ğŸš€ éƒ¨ç½²åˆ°é˜¿é‡Œäº‘
    runs-on: ubuntu-latest
    needs: [detect-changes, build-backend-services]
    if: needs.detect-changes.outputs.deploy-needed == 'true'
    
    steps:
      - name: Checkoutä»£ç 
        uses: actions/checkout@v4
      
      - name: ä¸‹è½½å¾®æœåŠ¡ä»£ç å’Œè„šæœ¬
        uses: actions/download-artifact@v4
        with:
          name: backend-services
          path: backend-services/
      
      - name: é…ç½®SSHå¯†é’¥
        run: |
          mkdir -p ~/.ssh
          echo "${{ secrets.ALIBABA_SSH_PRIVATE_KEY }}" > ~/.ssh/alibaba_key
          chmod 600 ~/.ssh/alibaba_key
          ssh-keyscan -H ${{ env.ALIBABA_SERVER_IP }} >> ~/.ssh/known_hosts
      
      - name: ä¸Šä¼ æœåŠ¡æ–‡ä»¶
        run: |
          echo "ğŸ“¤ ä¸Šä¼ å¾®æœåŠ¡æ–‡ä»¶åˆ°é˜¿é‡Œäº‘..."
          
          # åˆ›å»ºè¿œç¨‹ç›®å½•
          ssh -i ~/.ssh/alibaba_key \
            ${{ env.ALIBABA_SERVER_USER }}@${{ env.ALIBABA_SERVER_IP }} \
            "mkdir -p ${{ env.ALIBABA_DEPLOY_PATH }}/{backend/bin,configs,logs,scripts}"
          
          # ä¸Šä¼ æ„å»ºäº§ç‰©
          scp -i ~/.ssh/alibaba_key backend-services/* \
            ${{ env.ALIBABA_SERVER_USER }}@${{ env.ALIBABA_SERVER_IP }}:${{ env.ALIBABA_DEPLOY_PATH }}/backend/bin/
          
          # ä¸Šä¼ é…ç½®æ–‡ä»¶
          scp -i ~/.ssh/alibaba_key -r zervigo_future/backend/configs/* \
            ${{ env.ALIBABA_SERVER_USER }}@${{ env.ALIBABA_SERVER_IP }}:${{ env.ALIBABA_DEPLOY_PATH }}/configs/
          
          # ä¸Šä¼ éƒ¨ç½²è„šæœ¬
          scp -i ~/.ssh/alibaba_key zervigo_future/scripts/*.sh \
            ${{ env.ALIBABA_SERVER_USER }}@${{ env.ALIBABA_SERVER_IP }}:${{ env.ALIBABA_DEPLOY_PATH }}/scripts/
          
          echo "âœ… æ–‡ä»¶ä¸Šä¼ å®Œæˆ"
      
      - name: éƒ¨ç½²å¾®æœåŠ¡ (æŒ‰æ—¶åº)
        run: |
          echo "ğŸš€ å¼€å§‹éƒ¨ç½²å¾®æœåŠ¡..."
          
          ssh -i ~/.ssh/alibaba_key \
            ${{ env.ALIBABA_SERVER_USER }}@${{ env.ALIBABA_SERVER_IP }} << 'ENDSSH'
          
          cd ${{ env.ALIBABA_DEPLOY_PATH }}
          
          # ç»™è„šæœ¬æ‰§è¡Œæƒé™
          chmod +x backend/bin/*
          chmod +x scripts/*.sh
          
          # åœæ­¢ç°æœ‰å¾®æœåŠ¡
          echo "â¸ï¸  åœæ­¢ç°æœ‰å¾®æœåŠ¡..."
          pkill -f api-gateway || true
          pkill -f user-service || true
          pkill -f resume-service || true
          pkill -f company-service || true
          pkill -f notification-service || true
          pkill -f template-service || true
          pkill -f statistics-service || true
          pkill -f banner-service || true
          pkill -f dev-team-service || true
          pkill -f job-service || true
          
          sleep 5
          
          # åˆ›å»ºæ—¥å¿—ç›®å½•
          mkdir -p logs
          
          # ========================================
          # é˜¶æ®µ1: ç½‘å…³å±‚ (8080)
          # ========================================
          echo "ğŸŒ å¯åŠ¨ç½‘å…³å±‚..."
          cd backend/bin
          
          # API Gateway (8080)
          echo "å¯åŠ¨ API Gateway (8080)..."
          nohup ./api-gateway > ../../logs/api-gateway.log 2>&1 &
          echo $! > ../../logs/api-gateway.pid
          sleep 10
          curl -f http://localhost:8080/health && echo "âœ… API Gateway OK" || echo "âŒ API Gateway Failed"
          
          # ========================================
          # é˜¶æ®µ2: è®¤è¯æˆæƒå±‚ (8081)
          # ========================================
          echo "ğŸ” å¯åŠ¨è®¤è¯æˆæƒå±‚..."
          
          # User Service (8081)
          echo "å¯åŠ¨ User Service (8081)..."
          nohup ./user-service > ../../logs/user-service.log 2>&1 &
          echo $! > ../../logs/user-service.pid
          sleep 10
          curl -f http://localhost:8081/health && echo "âœ… User Service OK" || echo "âŒ User Service Failed"
          
          # ========================================
          # é˜¶æ®µ3: æ ¸å¿ƒä¸šåŠ¡å±‚ (8082-8083)
          # ========================================
          echo "ğŸ’¼ å¯åŠ¨æ ¸å¿ƒä¸šåŠ¡å±‚..."
          
          # Resume Service (8082)
          echo "å¯åŠ¨ Resume Service (8082)..."
          nohup ./resume-service > ../../logs/resume-service.log 2>&1 &
          echo $! > ../../logs/resume-service.pid
          sleep 5
          curl -f http://localhost:8082/health && echo "âœ… Resume Service OK" || echo "âŒ Resume Service Failed"
          
          # Company Service (8083)
          echo "å¯åŠ¨ Company Service (8083)..."
          nohup ./company-service > ../../logs/company-service.log 2>&1 &
          echo $! > ../../logs/company-service.pid
          sleep 5
          curl -f http://localhost:8083/health && echo "âœ… Company Service OK" || echo "âŒ Company Service Failed"
          
          # ========================================
          # é˜¶æ®µ4: æ”¯æ’‘æœåŠ¡å±‚ (8084-8087)
          # ========================================
          echo "ğŸ”§ å¯åŠ¨æ”¯æ’‘æœåŠ¡å±‚..."
          
          # Notification Service (8084)
          echo "å¯åŠ¨ Notification Service (8084)..."
          nohup ./notification-service > ../../logs/notification-service.log 2>&1 &
          echo $! > ../../logs/notification-service.pid
          sleep 3
          curl -f http://localhost:8084/health && echo "âœ… Notification Service OK" || echo "âŒ Notification Service Failed"
          
          # Template Service (8085)
          echo "å¯åŠ¨ Template Service (8085)..."
          nohup ./template-service > ../../logs/template-service.log 2>&1 &
          echo $! > ../../logs/template-service.pid
          sleep 3
          curl -f http://localhost:8085/health && echo "âœ… Template Service OK" || echo "âŒ Template Service Failed"
          
          # Statistics Service (8086)
          echo "å¯åŠ¨ Statistics Service (8086)..."
          nohup ./statistics-service > ../../logs/statistics-service.log 2>&1 &
          echo $! > ../../logs/statistics-service.pid
          sleep 3
          curl -f http://localhost:8086/health && echo "âœ… Statistics Service OK" || echo "âŒ Statistics Service Failed"
          
          # Banner Service (8087)
          echo "å¯åŠ¨ Banner Service (8087)..."
          nohup ./banner-service > ../../logs/banner-service.log 2>&1 &
          echo $! > ../../logs/banner-service.pid
          sleep 3
          curl -f http://localhost:8087/health && echo "âœ… Banner Service OK" || echo "âŒ Banner Service Failed"
          
          # ========================================
          # é˜¶æ®µ5: ç®¡ç†æœåŠ¡å±‚ (8088-8089)
          # ========================================
          echo "âš™ï¸ å¯åŠ¨ç®¡ç†æœåŠ¡å±‚..."
          
          # Dev Team Service (8088)
          echo "å¯åŠ¨ Dev Team Service (8088)..."
          nohup ./dev-team-service > ../../logs/dev-team-service.log 2>&1 &
          echo $! > ../../logs/dev-team-service.pid
          sleep 3
          curl -f http://localhost:8088/health && echo "âœ… Dev Team Service OK" || echo "âŒ Dev Team Service Failed"
          
          # Job Service (8089)
          echo "å¯åŠ¨ Job Service (8089)..."
          nohup ./job-service > ../../logs/job-service.log 2>&1 &
          echo $! > ../../logs/job-service.pid
          sleep 3
          curl -f http://localhost:8089/health && echo "âœ… Job Service OK" || echo "âŒ Job Service Failed"
          
          echo ""
          echo "=========================================="
          echo "âœ… æ‰€æœ‰å¾®æœåŠ¡éƒ¨ç½²å®Œæˆï¼"
          echo "=========================================="
          
          ENDSSH
      
      - name: æ¸…ç†SSHå¯†é’¥
        if: always()
        run: |
          rm -f ~/.ssh/alibaba_key

  # éªŒè¯éƒ¨ç½²
  verify-deployment:
    name: âœ… éªŒè¯éƒ¨ç½²
    runs-on: ubuntu-latest
    needs: [detect-changes, deploy-to-alibaba]
    if: needs.detect-changes.outputs.deploy-needed == 'true'
    
    steps:
      - name: é…ç½®SSHå¯†é’¥
        run: |
          mkdir -p ~/.ssh
          echo "${{ secrets.ALIBABA_SSH_PRIVATE_KEY }}" > ~/.ssh/alibaba_key
          chmod 600 ~/.ssh/alibaba_key
          ssh-keyscan -H ${{ env.ALIBABA_SERVER_IP }} >> ~/.ssh/known_hosts
      
      - name: éªŒè¯æ‰€æœ‰æœåŠ¡
        run: |
          echo "âœ… éªŒè¯å¾®æœåŠ¡éƒ¨ç½²çŠ¶æ€..."
          
          ssh -i ~/.ssh/alibaba_key \
            ${{ env.ALIBABA_SERVER_USER }}@${{ env.ALIBABA_SERVER_IP }} << 'ENDSSH'
          
          echo "=========================================="
          echo "ğŸ” å¾®æœåŠ¡å¥åº·æ£€æŸ¥"
          echo "=========================================="
          
          # ç½‘å…³å±‚
          echo ""
          echo "=== ç½‘å…³å±‚ ==="
          curl -f http://localhost:8080/health && echo "âœ… API Gateway (8080)" || echo "âŒ API Gateway (8080)"
          
          # è®¤è¯æˆæƒå±‚
          echo ""
          echo "=== è®¤è¯æˆæƒå±‚ ==="
          curl -f http://localhost:8081/health && echo "âœ… User Service (8081)" || echo "âŒ User Service (8081)"
          
          # æ ¸å¿ƒä¸šåŠ¡å±‚
          echo ""
          echo "=== æ ¸å¿ƒä¸šåŠ¡å±‚ ==="
          curl -f http://localhost:8082/health && echo "âœ… Resume Service (8082)" || echo "âŒ Resume Service (8082)"
          curl -f http://localhost:8083/health && echo "âœ… Company Service (8083)" || echo "âŒ Company Service (8083)"
          
          # æ”¯æ’‘æœåŠ¡å±‚
          echo ""
          echo "=== æ”¯æ’‘æœåŠ¡å±‚ ==="
          curl -f http://localhost:8084/health && echo "âœ… Notification Service (8084)" || echo "âŒ Notification Service (8084)"
          curl -f http://localhost:8085/health && echo "âœ… Template Service (8085)" || echo "âŒ Template Service (8085)"
          curl -f http://localhost:8086/health && echo "âœ… Statistics Service (8086)" || echo "âŒ Statistics Service (8086)"
          curl -f http://localhost:8087/health && echo "âœ… Banner Service (8087)" || echo "âŒ Banner Service (8087)"
          
          # ç®¡ç†æœåŠ¡å±‚
          echo ""
          echo "=== ç®¡ç†æœåŠ¡å±‚ ==="
          curl -f http://localhost:8088/health && echo "âœ… Dev Team Service (8088)" || echo "âŒ Dev Team Service (8088)"
          curl -f http://localhost:8089/health && echo "âœ… Job Service (8089)" || echo "âŒ Job Service (8089)"
          
          # AIæœåŠ¡ (å·²é¢„éƒ¨ç½²)
          echo ""
          echo "=== AIæœåŠ¡å±‚ (é¢„éƒ¨ç½²) ==="
          curl -f http://localhost:8100/health && echo "âœ… AI Service (8100)" || echo "âŒ AI Service (8100)"
          
          # æ•°æ®åº“ (å·²é¢„éƒ¨ç½²)
          echo ""
          echo "=== æ•°æ®åº“å±‚ (é¢„éƒ¨ç½²) ==="
          podman exec migration-mysql mysql -uroot -pJobFirst2025!MySQL -e "SELECT 'MySQL OK' as status;" 2>/dev/null && echo "âœ… MySQL (3306)" || echo "âŒ MySQL (3306)"
          podman exec migration-postgres psql -U postgres -c "SELECT 'PostgreSQL OK' as status;" 2>/dev/null && echo "âœ… PostgreSQL (5432)" || echo "âŒ PostgreSQL (5432)"
          podman exec migration-redis redis-cli -a JobFirst2025!Redis ping 2>/dev/null && echo "âœ… Redis (6379)" || echo "âŒ Redis (6379)"
          podman exec migration-mongodb mongosh -u admin -p'JobFirst2025!Mongo' --authenticationDatabase admin --eval "db.version()" --quiet 2>/dev/null && echo "âœ… MongoDB (27017)" || echo "âŒ MongoDB (27017)"
          
          echo ""
          echo "=========================================="
          echo "âœ… éƒ¨ç½²éªŒè¯å®Œæˆ"
          echo "=========================================="
          
          ENDSSH
      
      - name: æ¸…ç†SSHå¯†é’¥
        if: always()
        run: |
          rm -f ~/.ssh/alibaba_key

  # éƒ¨ç½²é€šçŸ¥
  notify:
    name: ğŸ“¢ éƒ¨ç½²é€šçŸ¥
    runs-on: ubuntu-latest
    needs: [detect-changes, verify-deployment]
    if: always() && needs.detect-changes.outputs.deploy-needed == 'true'
    
    steps:
      - name: éƒ¨ç½²ç»“æœ
        run: |
          if [[ "${{ needs.verify-deployment.result }}" == "success" ]]; then
            echo "âœ… Zervigo Futureå¾®æœåŠ¡éƒ¨ç½²æˆåŠŸï¼"
            echo ""
            echo "ç¯å¢ƒ: ${{ needs.detect-changes.outputs.environment }}"
            echo "æäº¤: ${{ github.sha }}"
            echo "åˆ†æ”¯: ${{ github.ref_name }}"
            echo ""
            echo "=========================================="
            echo "å·²éƒ¨ç½²çš„å¾®æœåŠ¡:"
            echo "=========================================="
            echo ""
            echo "ç½‘å…³å±‚:"
            echo "  - API Gateway (8080)"
            echo ""
            echo "è®¤è¯æˆæƒå±‚:"
            echo "  - User Service (8081)"
            echo ""
            echo "æ ¸å¿ƒä¸šåŠ¡å±‚:"
            echo "  - Resume Service (8082)"
            echo "  - Company Service (8083)"
            echo ""
            echo "æ”¯æ’‘æœåŠ¡å±‚:"
            echo "  - Notification Service (8084)"
            echo "  - Template Service (8085)"
            echo "  - Statistics Service (8086)"
            echo "  - Banner Service (8087)"
            echo ""
            echo "ç®¡ç†æœåŠ¡å±‚:"
            echo "  - Dev Team Service (8088)"
            echo "  - Job Service (8089)"
            echo ""
            echo "=========================================="
            echo "é¢„éƒ¨ç½²æœåŠ¡ (æ— éœ€æµæ°´çº¿éƒ¨ç½²):"
            echo "=========================================="
            echo "  - AI Service (8100)"
            echo "  - MySQL (3306)"
            echo "  - PostgreSQL (5432)"
            echo "  - Redis (6379)"
            echo "  - MongoDB (27017)"
            echo ""
            echo "=========================================="
            echo "è®¿é—®åœ°å€:"
            echo "=========================================="
            echo "  - API Gateway: http://${{ env.ALIBABA_SERVER_IP }}:8080"
            echo "  - User Service: http://${{ env.ALIBABA_SERVER_IP }}:8081"
            echo "  - Resume Service: http://${{ env.ALIBABA_SERVER_IP }}:8082"
            echo "  - Company Service: http://${{ env.ALIBABA_SERVER_IP }}:8083"
            echo "  - Notification Service: http://${{ env.ALIBABA_SERVER_IP }}:8084"
            echo "  - Template Service: http://${{ env.ALIBABA_SERVER_IP }}:8085"
            echo "  - Statistics Service: http://${{ env.ALIBABA_SERVER_IP }}:8086"
            echo "  - Banner Service: http://${{ env.ALIBABA_SERVER_IP }}:8087"
            echo "  - Dev Team Service: http://${{ env.ALIBABA_SERVER_IP }}:8088"
            echo "  - Job Service: http://${{ env.ALIBABA_SERVER_IP }}:8089"
            echo "  - AI Service: http://${{ env.ALIBABA_SERVER_IP }}:8100"
          else
            echo "âŒ Zervigo Futureå¾®æœåŠ¡éƒ¨ç½²å¤±è´¥ï¼"
            echo "è¯·æ£€æŸ¥GitHub Actionsæ—¥å¿—æ’æŸ¥é—®é¢˜"
            exit 1
          fi